<div class="container" id="laborer">
  <!-- Basic example -->
  <div class="row">
    <div class="col-md-12 mx-auto text-center my-5">
      <h4 class="text-center">Quản lý lao công</h4>
      <div class="card">
        <div class="card-body">

          <!-- Grid row -->
          <div class="row">

            <!-- Grid column -->
            <div class="col-md-2">
              <!-- Add button -->
              <button title="Tạo mới lao công" mdbBtn type="button" color="success" rounded="true" size="sm" class="addNewButton w-75" mdbWavesEffect (click)="openCreateModal()">
                <i class="fa fa-plus"></i>
              </button>

            </div>
            <div class="col-md-10">
              <!-- Search -->
              <div class="md-form">
                <input type="search" [(ngModel)]="searchText" id="search" class="form-control" mdbInput>
                <label for="search">Tìm kiếm</label>
              </div>

            </div>
            <!-- Grid column -->

          </div>
          <!-- Grid row -->

          <!--Table-->
          <table class="table table-hover">

            <!--Table head-->
            <thead>
              <tr>
                <th>Hình ảnh</th>
                <th>Họ</th>
                <th>Tên</th>
                <th>Giới tính</th>
                <th>Số điện thoại</th>
                <th>Địa chỉ</th>
                <th>Thao tác</th>
              </tr>
            </thead>
            <!--Table head-->

            <!--Table body-->
            <tbody>
              <tr *ngFor="let data of search()">
                <th scope="row" style="position: relative; width: 120px">
                  <img src="{{data.picture}}" alt="image" class="avatar">
                </th>
                <td>{{data.firstName}}</td>
                <td>{{data.lastName}}</td>
                <td>{{data.sex ? 'Nam' : 'Nữ'}}</td>
                <td>{{data.phoneNumber}}</td>
                <td>{{data.address}}</td>
                <td>
                  <button title="Chi tiết" mdbBtn type="button" rounded="true" color="warning" class="waves-light" size="md"
                    mdbWavesEffect [routerLink]="['/employee-detail', data.id]">
                    <i class="fa fa-eye"></i>
                  </button>
                  <button title="Cập nhật" mdbBtn type="button" rounded="true" color="primary" class="waves-light" size="md"
                    mdbWavesEffect (click)="openUpdateModal(data)">
                    <i class="fa fa-pencil"></i>
                  </button>
                  <button title="Xóa" mdbBtn type="button" rounded="true" color="danger" class="waves-light " size="md"
                    mdbWavesEffect (click)="openDeleteModal(data.id)">
                    <i class="fa fa-ban"></i>
                  </button>
                </td>
              </tr>
            </tbody>
            <!--Table body-->
          </table>
          <!--Table-->

        </div>
      </div>
    </div>
  </div>
  <!-- Basic example -->
</div>

<div mdbModal #create="mdbModal" class="modal fade left" id="frameModalTop" tabindex="-1" role="dialog" aria-labelledby="add" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-notify" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Tạo mới lao công</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close" (click)="create.hide()">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3 row">
        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="userName" class="form-control" mdbInput [(ngModel)]="employeeCM.fullName">
          <label for="userName">Tên account</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="password" id="password" class="form-control" mdbInput [(ngModel)]="employeeCM.password">
          <label for="password">Mật khẩu</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="firstName" class="form-control" mdbInput [(ngModel)]="employeeCM.firstName">
          <label for="firstName">Họ</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="lastName" class="form-control" mdbInput [(ngModel)]="employeeCM.lastName">
          <label for="lastName">Tên</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6 pl-0">
          <mdb-select [options]="optionsSex" id="gender" placeholder="Giới tính" [(ngModel)]="gender"></mdb-select>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="phoneNumber" class="form-control" mdbInput [(ngModel)]="employeeCM.phoneNumber">
          <label for="phoneNumber">Số điện thoại</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="address" class="form-control" mdbInput [(ngModel)]="employeeCM.address">
          <label for="address">Địa chỉ</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="email" class="form-control" mdbInput [(ngModel)]="employeeCM.email">
          <label for="email">Email</label>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <div class="form-group">
            <input type="text"
                    class="form-control"
                    bsDatepicker
                    mdbInput [(ngModel)]="employeeCM.birthDate">
          <label for="email">Ngày sinh</label>
          </div>
        </div>

        <div class="md-form my-0 mb-3 col-md-6">
          <input type="text" id="macAddress" class="form-control" mdbInput [(ngModel)]="employeeCM.phoneMacAddress">
          <label for="macAddress">Địa chỉ MAC</label>
        </div>
        
        <div class="md-form my-0 mb-3 col-md-12 pl-0">
          <mdb-select [options]="optionsSelect" placeholder="Người quản lý" [(ngModel)]="employeeCM.managerId"></mdb-select>
        </div>
        
      </div>
      <div class="modal-footer d-flex justify-content-center">
        <button mdbBtn color="success" class="waves-light" mdbWavesEffect (click)="createEmployee()">Xác nhận
          <i class="fa fa-check ml-1"></i>
        </button>
      </div>
    </div>
  </div>
</div>


<div mdbModal #delete="mdbModal" class="modal fade top" id="frameModalTop" tabindex="-1" role="dialog" aria-labelledby="delete" aria-hidden="true">
  <div class="modal-dialog modal-sm modal-notify modal-danger" role="document">
    <!--Content-->
    <div class="modal-content text-center">
      <!--Header-->
      <div class="modal-header d-flex justify-content-center">
        <p class="heading">Xóa lao công này?</p>
      </div>

      <!--Body-->
      <div class="modal-body">
        <i class="fa fa-times fa-4x animated rotateIn"></i>
      </div>

      <!--Footer-->
      <div class="modal-footer flex-center">
        <a mdbBtn color="danger" outline="true" class="waves-effect" mdbWavesEffect (click)="removeEmployee()">Đồng ý</a>
        <a type="button" mdbBtn color="danger" class="waves-effect" mdbWavesEffect data-dismiss="modal" (click)="delete.hide()">Hủy</a>
      </div>
    </div>
    <!--/.Content-->
  </div>
</div>
